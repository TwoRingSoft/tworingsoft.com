












<!doctype html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" 
      lang="en" 
      data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)" 
      prefix="og: http://ogp.me/ns#">

	<head>
		<meta charset="utf-8"/>
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
		<meta name="author" content="Andrew McKnight"/>
		<meta name="copyright" content="Two Ring Software Copyright (c) 2018"/>

		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@tworingsoft" />
		<meta name="twitter:creator" content="@tworingsoft" />
		
		<meta name="og:site_name" content="Two Ring Software">
		
		<meta property="og:url" content="https://tworingsoft.com/blog/2017/12/17/easy-versioning-with-vrsnr-and-rake.html" />
		<meta name="twitter:url" content="https://tworingsoft.com/blog/2017/12/17/easy-versioning-with-vrsnr-and-rake.html" />
		
		<title>Two Ring Software % Blog % Manage version numbers with this one line command % 17 December 2017</title>
		<meta property="og:title" content="Two Ring Software % Blog % Manage version numbers with this one line command % 17 December 2017" />
		<meta property="twitter:title" content="Two Ring Software % Blog % Manage version numbers with this one line command % 17 December 2017" />
		
		<meta name="description" content="How I'm currently using Rake to automate a few common tasks I carry out to manage my iOS apps' version numbers." />
		<meta property="og:description" content="How I'm currently using Rake to automate a few common tasks I carry out to manage my iOS apps' version numbers." />
		<meta property="twitter:description" content="How I'm currently using Rake to automate a few common tasks I carry out to manage my iOS apps' version numbers." />
		
		<link rel="alternate" type="application/rss+xml" title="Two Ring Software RSS" href="/feed.xml">
		<link href='/css/blog-post.css' rel='stylesheet' type='text/css'>
		
		
			
			
				
				<meta name="og:image" content="/img/logo-small.jpg" />
			
				
				<meta name="twitter:image" content="/img/logo-small.jpg" />
			
				
				<meta name="og:type" content="article" />
			
				
				<meta name="article:tag" content="products" />
			
				
				<meta name="og:published_time" content="2017-12-17T00:00:00-09:00" />
			
				
				<meta name="og:modified_time" content="2018-05-09T13:22:45-08:00" />
			
				
				<meta name="twitter:label1" content="By:" />
			
				
				<meta name="twitter:data1:Andrew McKnight" content="" />
			
				
				<meta name="twitter:label2" content="Tags:" />
			
				
				<meta name="twitter:data2" content="products" />
			
		
	</head>
	<body>
		<div id="page-content">
			
		
		<h2>
			<a href="/" style="text-decoration: none;">
				<img src="/img/logo-small.png" height="25em" />
			</a>
			<a href="/blog/" style="text-decoration: none;">Blog</a>
		</h2>
		
		<div class="title">Manage version numbers with this one line command</div>
		<div class="byline">Andrew McKnight â€“ 17 December 2017</div>
		
		<hr />
					
<div id="post-content">
	<p>Having produced both iOS apps and developer tools used in them, I feel very strongly about using <a href="https://semver.org">semantic versioning</a>. Itâ€™s a small price to pay to avoid all sorts of headaches, potentially for many more people than yourself. In my opinion, thereâ€™s no reason not to do it.</p>

<p>Maybe you donâ€™t like the hassle of editing that one line in that config file, and coming up with a commit message for the banal change? And then also maybe tagging it with the exact same template you used for all the other tags (after 2.4.17, because thatâ€™s when you started/stopped prepending a â€œvâ€ to it)? Or maybe youâ€™ve just forgotten one of the steps in the midst of hot-patching a critical bug?</p>

<p>Well, I have seen and/or done all of these things at some point. Thatâ€™s why I wrote <a href="https://github.com/tworingsoft/vrsnr">Vrsnr</a> to help alleviate the problem for myself. And as if that werenâ€™t simple enough, I automated the automation in a Rake task:</p>

<script src="https://gist.github.com/armcknight/8c2def2f9c0ba6714611a28ce14f1a0e/61e05c2626679f2be5ef19add61db3f8846d7de0.js"></script>

<noscript>
	<p class="caption">(Code snippet hosted at <a href="https://gist.github.com/armcknight/8c2def2f9c0ba6714611a28ce14f1a0e/61e05c2626679f2be5ef19add61db3f8846d7de0">https://gist.github.com/armcknight/8c2def2f9c0ba6714611a28ce14f1a0e/61e05c2626679f2be5ef19add61db3f8846d7de0</a>. Enable javascript to see them embedded here.)</p>
</noscript>

<p>After git stashing <code class="highlighter-rouge">--all</code> of your working index, this will:</p>

<ul>
  <li>use Vrsnr to bump the specified version component</li>
  <li>commit the change with Vrsnrâ€™s confirmation output as the message (â€œUpdated CFBundleVersion from 6 to 7 in my/application/Info.plistâ€)</li>
  <li>use Vrsnrâ€™s <code class="highlighter-rouge">--read</code> to get the version information back out and create a git tag</li>
</ul>

<p>and then pop the stash to resume your regularly scheduled programming.</p>

</div>
<p>
	<hr />
</p>
<p>
	ğŸ™ğŸ» Enjoy the post? Please help support more like it by <a href="https://www.paypal.me/armcknight">buying me a cup of coffee</a>! I am also available for <a href="/contracts">contracting</a>.
</p>
<p>
	ğŸ’¡ Suggestions, questions, comments? <a href="https://github.com/TwoRingSoft/tworingsoft.com/edit/master/blog/_posts/2017-12-17-easy-versioning-with-vrsnr-and-rake.md">Please submit a PR!</a>.
</p>
		</div>
	</body>
</html>
